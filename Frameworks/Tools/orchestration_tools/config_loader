# Tools/orchestration_tools/config_loader.py

import yaml
from functools import lru_cache
from ..Engines.logger import get_logger
from ..Engines.constants import CONFIG_PATH

logger = get_logger(__name__)

class ConfigLoader:
    """
    Load and cache YAML configuration (e.g. playbook, DAG).
    """

    @staticmethod
    @lru_cache(maxsize=1)
    def load() -> dict:
        logger.info(f"Loading config from {CONFIG_PATH}")
        with open(CONFIG_PATH, 'r', encoding='utf-8') as f:
            data = yaml.safe_load(f)
        return data
