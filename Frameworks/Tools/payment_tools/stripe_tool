# Tools/payment_tools/stripe_tool.py

import stripe
from ..Engines.logger import get_logger
from ..Engines.constants import STRIPE_API_KEY

logger = get_logger(__name__)
stripe.api_key = STRIPE_API_KEY

class StripeTool:
    def create_payment_intent(self, amount_cents: int, currency: str = "usd") -> dict:
        logger.info(f"Creating Stripe PaymentIntent for {amount_cents} {currency}")
        intent = stripe.PaymentIntent.create(amount=amount_cents, currency=currency)
        return intent

    def retrieve_intent(self, intent_id: str) -> dict:
        logger.info(f"Retrieving Stripe PaymentIntent {intent_id}")
        return stripe.PaymentIntent.retrieve(intent_id)
